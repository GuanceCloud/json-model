version: v1
managed:
  enabled: true
plugins:
  # generate go struct code
  - plugin: buf.build/bufbuild/validate-go:v1.0.1
    out: generated/go
    opt:
      - paths=import
      - module=github.com/GuanceCloud/json-model/generated/go
  # generate message validator code
  - plugin: buf.build/protocolbuffers/go
    out: generated/go
    opt:
      - paths=import
      - module=github.com/GuanceCloud/json-model/generated/go
  # generate typescript code
  # - plugin: buf.build/bufbuild/es:v1.2.0
  #   opt:
  #     - target=ts
  #     - paths=import
  #   out: generated/ts/
  - plugin: buf.build/community/stephenh-ts-proto
    out: generated/ts/
